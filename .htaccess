# Configuração para servir index-inicio.php como página padrão
DirectoryIndex index-inicio.php index-inicio.html index.php index.html

# Habilitar rewrite engine
<IfModule mod_rewrite.c>
    RewriteEngine On
    
    # Redirecionar index.html para index-inicio.php
    RewriteRule ^index\.html$ index-inicio.php [L,R=301]
    
    # Redirecionar index-inicio.html para index-inicio.php
    RewriteRule ^index-inicio\.html$ index-inicio.php [L,R=301]
    
    # Redirecionar páginas de produtos HTML para produto.php
    RewriteCond %{REQUEST_FILENAME} -f
    RewriteCond %{REQUEST_FILENAME} \.html$
    RewriteCond %{REQUEST_URI} ^/(index-iphone|index-airfry|index-cama|index-maquina-de-lavar|index)\.html$
    RewriteRule ^(.*)\.html$ produto.php?p=$1.html [L,QSA]
    
    # Redirecionar páginas de checkout para checkout.php
    RewriteCond %{REQUEST_URI} ^/5/4/checkout/(index2|index2-iphone|index2-cama|index-airfry|index-maquina-de-lavar)\.html$
    RewriteRule ^5/4/checkout/(.*)\.html$ checkout.php?p=$1.html [L,QSA]
    
    # Redirecionar páginas principais 5/4/ para checkout.php também
    RewriteCond %{REQUEST_URI} ^/5/4/(index|index-iphone|index-cama|index-airfry|index-maquina-de-lavar)\.html$
    RewriteRule ^5/4/(.*)\.html$ checkout.php?p=$1.html [L,QSA]
</IfModule>

# Desabilitar cache para arquivos PHP e HTML
<IfModule mod_headers.c>
    <FilesMatch "\.(php|html)$">
        Header set Cache-Control "no-cache, no-store, must-revalidate, max-age=0"
        Header set Pragma "no-cache"
        Header set Expires "0"
        Header set Last-Modified "Thu, 01 Jan 1970 00:00:00 GMT"
    </FilesMatch>
</IfModule>

