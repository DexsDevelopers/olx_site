<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>Teste Produtos - Mobile</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: #0f172a;
            color: #e2e8f0;
            padding: 16px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        h1 {
            text-align: center;
            margin-bottom: 24px;
            color: #ffffff;
            font-size: 24px;
        }
        
        .produtos-section {
            background: #111827;
            border-radius: 12px;
            padding: 16px;
            width: 100%;
            margin-bottom: 32px;
        }
        
        .produtos-header {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            align-items: center;
            gap: 8px;
            margin-bottom: 16px;
        }
        
        .produtos-badge {
            font-size: 12px;
            padding: 4px 10px;
            border-radius: 999px;
            border: 1px solid #4b5563;
            color: #e5e7eb;
            background: #111827;
        }
        
        .produtos-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 12px;
            width: 100%;
        }
        
        @media (min-width: 768px) {
            .produtos-grid {
                grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
                gap: 12px;
            }
        }
        
        .produto-card {
            background: #020617;
            border-radius: 10px;
            overflow: hidden;
            border: 1px solid #374151;
            display: flex;
            flex-direction: column;
            box-shadow: 0 6px 18px rgba(0,0,0,0.35);
            width: 100%;
            min-width: 0;
        }
        
        .produto-link {
            text-decoration: none;
            color: inherit;
            display: block;
            width: 100%;
        }
        
        .produto-imagem-container {
            height: 150px;
            min-height: 120px;
            background: #020617;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            width: 100%;
        }
        
        .produto-imagem {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }
        
        .produto-conteudo {
            padding: 10px 12px 12px;
            display: flex;
            flex-direction: column;
            gap: 4px;
            width: 100%;
        }
        
        .produto-titulo {
            font-size: 14px;
            font-weight: 600;
            color: #ffffff;
            margin: 0 0 6px;
            line-height: 1.3;
            word-wrap: break-word;
            overflow-wrap: break-word;
        }
        
        .produto-garantia {
            display: flex;
            flex-wrap: wrap;
            gap: 4px;
            margin-bottom: 6px;
        }
        
        .garantia-badge {
            display: inline-block;
            background-color: #f4edfc;
            color: #9c59d1;
            font-size: 11px;
            font-weight: 600;
            padding: 2px 6px;
            border-radius: 4px;
        }
        
        .produto-preco {
            font-weight: bold;
            font-size: 18px;
            margin: 0 0 4px;
            color: #ffffff;
            line-height: 1.2;
        }
        
        .produto-info {
            font-size: 12px;
            color: #9ca3af;
            margin: 0;
            line-height: 1.3;
        }
        
        .debug-info {
            background: #1e293b;
            border: 1px solid #334155;
            border-radius: 8px;
            padding: 16px;
            margin-top: 24px;
            font-size: 12px;
            color: #94a3b8;
        }
        
        .debug-info strong {
            color: #e2e8f0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Teste de Produtos - Mobile</h1>
        
        <section class="produtos-section" id="produtos-test">
            <div class="produtos-header">
                <div></div>
                <span class="produtos-badge">Produtos da Bianca Moraes</span>
            </div>
            
            <div class="produtos-grid" id="produtos-grid">
                <!-- Cards serão inseridos aqui via PHP ou JavaScript -->
            </div>
        </section>
        
        <div class="debug-info">
            <strong>Informações de Debug:</strong><br>
            Largura da tela: <span id="screen-width"></span>px<br>
            Altura da tela: <span id="screen-height"></span>px<br>
            User Agent: <span id="user-agent"></span><br>
            Cards visíveis: <span id="cards-count">0</span>
        </div>
    </div>
    
    <script>
        // Debug info
        document.getElementById('screen-width').textContent = window.innerWidth;
        document.getElementById('screen-height').textContent = window.innerHeight;
        document.getElementById('user-agent').textContent = navigator.userAgent;
        
        // Dados de teste (simulando produtos do banco)
        var produtosTeste = [
            {
                id: 1,
                titulo: "Máquina de lavar e secar Samsung 10,2kg",
                preco: 800.00,
                imagem: "https://img.olx.com.br/images/54/542517404843738.webp",
                localizacao: "São Paulo - SP",
                data: "2025-11-15",
                hora: "00:15",
                garantia: true,
                link: "index-maquina-de-lavar.html"
            },
            {
                id: 2,
                titulo: "Geladeira Brastemp Frost Free",
                preco: 700.00,
                imagem: "https://img.olx.com.br/images/78/786528642395921.webp",
                localizacao: "São Paulo - SP",
                data: "2025-11-15",
                hora: "00:15",
                garantia: true,
                link: "index.html"
            },
            {
                id: 3,
                titulo: "Cama de solteiro",
                preco: 250.00,
                imagem: "https://img.olx.com.br/images/26/269506880674994.webp",
                localizacao: "São Paulo - SP",
                data: "2025-11-15",
                hora: "00:15",
                garantia: false,
                link: "index-cama.html"
            },
            {
                id: 4,
                titulo: "iPhone 13 Meia Noite",
                preco: 1800.00,
                imagem: "https://img.olx.com.br/images/78/786528642395921.webp",
                localizacao: "São Paulo - SP",
                data: "2025-11-15",
                hora: "00:15",
                garantia: true,
                link: "index-iphone.html"
            },
            {
                id: 5,
                titulo: "Air Fryer Rita Lobo 12L",
                preco: 350.00,
                imagem: "https://img.olx.com.br/images/26/269506880674994.webp",
                localizacao: "São Paulo - SP",
                data: "2025-11-15",
                hora: "00:15",
                garantia: true,
                link: "index-airfry.html"
            }
        ];
        
        function formatarPreco(preco) {
            return "R$ " + parseFloat(preco).toLocaleString("pt-BR", {
                minimumFractionDigits: 2,
                maximumFractionDigits: 2
            });
        }
        
        function formatarData(data, hora) {
            if (!data) return "";
            var partes = data.split("-");
            if (partes.length === 3) {
                return partes[2] + "/" + partes[1] + "/" + partes[0] + (hora ? ", " + hora : "");
            }
            return data + (hora ? ", " + hora : "");
        }
        
        function criarCard(produto) {
            var article = document.createElement("article");
            article.className = "produto-card";
            
            var link = document.createElement("a");
            link.href = "produto.php?p=" + encodeURIComponent(produto.link);
            link.className = "produto-link";
            
            // Imagem
            var imgContainer = document.createElement("div");
            imgContainer.className = "produto-imagem-container";
            var img = document.createElement("img");
            img.src = produto.imagem;
            img.alt = produto.titulo;
            img.className = "produto-imagem";
            imgContainer.appendChild(img);
            
            // Conteúdo
            var contentDiv = document.createElement("div");
            contentDiv.className = "produto-conteudo";
            
            var titulo = document.createElement("p");
            titulo.className = "produto-titulo";
            titulo.textContent = produto.titulo;
            contentDiv.appendChild(titulo);
            
            if (produto.garantia) {
                var garantiaDiv = document.createElement("div");
                garantiaDiv.className = "produto-garantia";
                var garantiaSpan = document.createElement("span");
                garantiaSpan.className = "garantia-badge";
                garantiaSpan.textContent = "Garantia da OLX";
                garantiaDiv.appendChild(garantiaSpan);
                contentDiv.appendChild(garantiaDiv);
            }
            
            var preco = document.createElement("p");
            preco.className = "produto-preco";
            preco.textContent = formatarPreco(produto.preco);
            contentDiv.appendChild(preco);
            
            var info = document.createElement("p");
            info.className = "produto-info";
            info.textContent = produto.localizacao + " • " + formatarData(produto.data, produto.hora);
            contentDiv.appendChild(info);
            
            link.appendChild(imgContainer);
            link.appendChild(contentDiv);
            article.appendChild(link);
            
            return article;
        }
        
        function renderizarProdutos() {
            var grid = document.getElementById("produtos-grid");
            grid.innerHTML = "";
            
            produtosTeste.forEach(function(produto) {
                var card = criarCard(produto);
                grid.appendChild(card);
            });
            
            // Atualizar contador
            document.getElementById("cards-count").textContent = produtosTeste.length;
        }
        
        // Renderizar produtos
        renderizarProdutos();
        
        // Ajustar grid no resize
        window.addEventListener("resize", function() {
            var grid = document.getElementById("produtos-grid");
            if (window.innerWidth < 768) {
                grid.style.gridTemplateColumns = "repeat(auto-fit, minmax(140px, 1fr))";
            } else {
                grid.style.gridTemplateColumns = "repeat(auto-fit, minmax(160px, 1fr))";
            }
            document.getElementById('screen-width').textContent = window.innerWidth;
            document.getElementById('screen-height').textContent = window.innerHeight;
        });
        
        // Verificar se cards estão visíveis
        function verificarVisibilidade() {
            var cards = document.querySelectorAll('.produto-card');
            var visiveis = 0;
            cards.forEach(function(card) {
                var style = window.getComputedStyle(card);
                if (style.display !== 'none' && style.visibility !== 'hidden' && style.opacity !== '0') {
                    visiveis++;
                }
            });
            document.getElementById("cards-count").textContent = visiveis + " / " + produtosTeste.length;
        }
        
        setInterval(verificarVisibilidade, 1000);
        verificarVisibilidade();
    </script>
</body>
</html>

